# üêõ Debug Mode & Logging Guide

## üîç –û–±–∑–æ—Ä

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π debug mode.

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ì–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–≥–∏?

```
logs/schedule_dnd.log
```

–õ–æ–≥–∏ **–≤—Å–µ–≥–¥–∞** –ø–∏—à—É—Ç—Å—è –≤ —Ñ–∞–π–ª, –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Ä–µ–∂–∏–º–∞.

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

- **DEBUG** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Ç–æ–ª—å–∫–æ –≤ debug mode)
- **INFO** - –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ
- **WARNING** - –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- **ERROR** - –û—à–∏–±–∫–∏
- **CRITICAL** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

---

## üêõ Debug Mode

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å?

#### –°–ø–æ—Å–æ–± 1: –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# Linux/Mac
export SCHEDULE_DND_DEBUG=true
python -m schedule_dnd

# Windows
set SCHEDULE_DND_DEBUG=true
python -m schedule_dnd

# –ò–ª–∏ –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ
SCHEDULE_DND_DEBUG=true python -m schedule_dnd
```

#### –°–ø–æ—Å–æ–± 2: –§–∞–π–ª .env

–°–æ–∑–¥–∞–π—Ç–µ/–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
SCHEDULE_DND_DEBUG=true
```

#### –°–ø–æ—Å–æ–± 3: –ê—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```bash
python -m schedule_dnd --debug
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç debug mode?

1. ‚úÖ **–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å**
   - –í—Å–µ DEBUG —Å–æ–æ–±—â–µ–Ω–∏—è –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª
   - –í–∏–¥–Ω—ã –Ω–æ–º–µ—Ä–∞ —Å—Ç—Ä–æ–∫ –∏ –∏–º–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–π

2. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
   - –ü–æ–ª–Ω—ã–π traceback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

3. ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞**
   - –í–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
   - –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤–∏–¥–Ω—ã
   - –õ–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É

---

## üìã –ü—Ä–∏–º–µ—Ä—ã –ª–æ–≥–æ–≤

### –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (logs/schedule_dnd.log)

```
2025-10-21 20:00:00 | INFO     | Application starting...
2025-10-21 20:00:01 | INFO     | Starting CreateCommand execution
2025-10-21 20:00:05 | INFO     | Period selected: –ù–æ—è–±—Ä—å 2025
2025-10-21 20:00:10 | INFO     | [Unit 1/8] Inputting shifts for: –î–ù–î ¬´–í—Å–µ–≤–æ–ª–æ–∂—Å–∫–∏–π –¥–æ–∑–æ—Ä¬ª
2025-10-21 20:00:15 | INFO     | [Shift #1] SUCCESS: 07.11.2025 - –£–£–ü
```

### Debug —Ä–µ–∂–∏–º (–∫–æ–Ω—Å–æ–ª—å + —Ñ–∞–π–ª)

```
2025-10-21 20:00:00 | DEBUG    | __main__:15 | Application starting...
2025-10-21 20:00:01 | DEBUG    | create.py:35 | Starting CreateCommand execution
2025-10-21 20:00:02 | DEBUG    | create.py:152 | Month input: '–Ω–æ—è–±—Ä—å'
2025-10-21 20:00:02 | DEBUG    | create.py:156 | Month parsed successfully: <Month.NOVEMBER: 11>
2025-10-21 20:00:03 | DEBUG    | create.py:165 | Year input: 2025
2025-10-21 20:00:10 | DEBUG    | create.py:203 | [Shift #1] Raw input: '7'
2025-10-21 20:00:10 | DEBUG    | create.py:214 | [Shift #1] Parsed as day: 7
2025-10-21 20:00:10 | DEBUG    | create.py:221 | [Shift #1] Formatted date: 07.11.2025
2025-10-21 20:00:12 | DEBUG    | create.py:237 | [Shift #1] Duty type: '–£–£–ü'
2025-10-21 20:00:12 | INFO     | create.py:249 | [Shift #1] SUCCESS: 07.11.2025 - –£–£–ü
```

---

## üêû –û—Ç–ª–∞–¥–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ–≤–µ—Ä–Ω—ã–π –¥–µ–Ω—å: 1"

**Debug –ª–æ–≥ –ø–æ–∫–∞–∂–µ—Ç:**

```
DEBUG | [Shift #1] Raw input: '1'
DEBUG | [Shift #1] Parsed as day: 1
DEBUG | [Shift #1] Formatted date: 01.11.2025
INFO  | [Shift #1] SUCCESS: 01.11.2025 - –£–£–ü
```

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É, –Ω–æ –ª–æ–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É—Å–ø–µ—Ö - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –¥—Ä—É–≥–æ–º –º–µ—Å—Ç–µ!

### –ü—Ä–æ–±–ª–µ–º–∞: –≠–∫—Å–ø–æ—Ä—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**Debug –ª–æ–≥ –ø–æ–∫–∞–∂–µ—Ç:**

```
INFO  | Starting export workflow
INFO  | Export format choice: 6
DEBUG | Loading schedule from: /path/to/data/schedule_2025_11.json
DEBUG | Schedule loaded
INFO  | Exporting to ALL formats
DEBUG | Exporting to format: json
ERROR | Failed to export: Permission denied
```

–°—Ä–∞–∑—É –≤–∏–¥–Ω–æ –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞!

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–∏

```bash
# –í–∫–ª—é—á–∏—Ç—å debug
export SCHEDULE_DND_DEBUG=true

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
python -m schedule_dnd

# –°–ª–µ–¥–∏—Ç—å –∑–∞ –ª–æ–≥–∞–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
tail -f logs/schedule_dnd.log
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ë–∞–≥ —Ä–µ–ø–æ—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

```bash
# –í–∫–ª—é—á–∏—Ç—å debug
SCHEDULE_DND_DEBUG=true python -m schedule_dnd

# –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –±–∞–≥
# ...

# –û—Ç–ø—Ä–∞–≤–∏—Ç—å logs/schedule_dnd.log —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: Production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å (–ª–æ–≥–∏ —Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–π–ª)
python -m schedule_dnd

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
less logs/schedule_dnd.log
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

```
logs/
‚îú‚îÄ‚îÄ schedule_dnd.log          # –¢–µ–∫—É—â–∏–π –ª–æ–≥
‚îú‚îÄ‚îÄ schedule_dnd.log.1        # Backup 1 (—Å—Ç–∞—Ä—ã–π)
‚îú‚îÄ‚îÄ schedule_dnd.log.2        # Backup 2
‚îî‚îÄ‚îÄ schedule_dnd.log.3        # Backup 3
```

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: **10 MB**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ backup —Ñ–∞–π–ª–æ–≤: **5**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —á–µ—Ä–µ–∑ .env

```env
# Debug mode
SCHEDULE_DND_DEBUG=true

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
SCHEDULE_DND_LOG_LEVEL=DEBUG

# Log to console
SCHEDULE_DND_LOG_TO_CONSOLE=true

# Log to file
SCHEDULE_DND_LOG_TO_FILE=true

# Log rotation
SCHEDULE_DND_LOG_ROTATION=true
SCHEDULE_DND_LOG_MAX_SIZE=10485760  # 10 MB
SCHEDULE_DND_LOG_BACKUP_COUNT=5
```

---

## üîß –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from schedule_dnd.infrastructure.logging import setup_logging, get_logger

# Setup logging
setup_logging()

# Get logger
logger = get_logger(__name__)

# Use it
logger.debug("–î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è")
logger.info("–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ")
logger.warning("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ")
logger.error("–û—à–∏–±–∫–∞")
logger.exception("–û—à–∏–±–∫–∞ —Å traceback")
```

---

## üìù –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è?

### CreateCommand

- –ù–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –í—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ (–º–µ—Å—è—Ü/–≥–æ–¥)
- –ö–∞–∂–¥–æ–µ –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ (–Ω–∞—á–∞–ª–æ/–∫–æ–Ω–µ—Ü)
- –ö–∞–∂–¥–∞—è —Å–º–µ–Ω–∞ (–≤–≤–æ–¥/–ø–∞—Ä—Å–∏–Ω–≥/–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ)
- –í–∞–ª–∏–¥–∞—Ü–∏—è (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∏)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –≠–∫—Å–ø–æ—Ä—Ç

### LoadCommand

- –°–ø–∏—Å–æ–∫ –≥—Ä–∞—Ñ–∏–∫–æ–≤
- –í—ã–±–æ—Ä –≥—Ä–∞—Ñ–∏–∫–∞
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### ExportCommand

- –í—ã–±–æ—Ä –≥—Ä–∞—Ñ–∏–∫–∞
- –í—ã–±–æ—Ä —Ñ–æ—Ä–º–∞—Ç–∞
- –≠–∫—Å–ø–æ—Ä—Ç (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞)
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## üéâ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

1. ‚úÖ **–£–±—Ä–∞–Ω default="–≥–æ—Ç–æ–≤–æ"** –≤ Prompt.ask()
   - –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤–≤–æ–¥–∏—Ç—å —Ü–∏—Ñ—Ä—ã –±–µ–∑ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞

2. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ö–∞–∂–¥—ã–π —à–∞–≥ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è
   - –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
   - –û—à–∏–±–∫–∏ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω—ã

3. ‚úÖ **Debug mode**
   - –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª
   - –õ–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ debug=true

4. ‚úÖ **–£–ª—É—á—à–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö**
   - "–ù–µ–≤–µ—Ä–Ω—ã–π –¥–µ–Ω—å: '1'. –í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 31 –∏–ª–∏ '–≥–æ—Ç–æ–≤–æ'"
   - –í–∏–¥–Ω–æ —á—Ç–æ –∏–º–µ–Ω–Ω–æ –±—ã–ª–æ –≤–≤–µ–¥–µ–Ω–æ

---

## üöÄ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å!

```bash
# –° debug
SCHEDULE_DND_DEBUG=true python -m schedule_dnd

# –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä–∞—Ñ–∏–∫
# –í–≤–µ–¥–∏—Ç–µ "1" –∫–æ–≥–¥–∞ —Å–ø—Ä–æ—Å–∏—Ç –¥–µ–Ω—å
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å!

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
cat logs/schedule_dnd.log | grep "Shift #1"
```

---

**–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç + –ø–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ! üéâ**
